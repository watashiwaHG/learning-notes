##虚拟机网络适配器
![](./复习/虚拟机网络适配器.png)
## 安装linux（CentOS 6.8 64）
### 下载地址
http://mirrors.163.com/centos/6/isos/x86_64/
### 磁盘分区
* /boot ：启动（200MB）
* swap : 虚拟内存（4096MB）
* / : 根 （剩余空间）
### 安装vmtools
实现虚拟机与主操作系统共享文件和文件的复制粘贴
## Linux目录结构
linux的文件系统是采用级层式的树状目录结构，在此结构中的最上层是根目录“/”，然后在此目录下在创建其他的目录。

/bin
* 是Binary的缩写，这个目录存放着最经常使用的命令

/sbin
* s就是super user的意思，这里存放的是系统管理员使用的系统管理程序。

/home
* 存放普通用户的主目录，在linux中每个用户都有一个自己的目录，一般该目录名是以用户的帐号命名的。

/root
* 该目录为系统管理员，也称作超级权限者的用户主目录。

/lib
* 系统开机所需要最基本的动态连接共享库，其作用类似于Windows里的DLL文件。几乎所用的应用程序都需要用到这些共享库。

/lost+found
* 这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。

/etc
* 所有的系统管理所需要的配置文件和子目录。

/usr
* 这是一个非常重要的目录，用户的很多应用程序和文件都存放在这个目录下，类似于windows下的program files目录。

/boot
* 存放的是启动linux时使用的一些核心文件，包括一些连接文件以及镜像文件。

/proc
* 这个目录是一个虚拟的目录，他是系统内存的映射，访问这个目录来获取系统信息。

/srv
* service缩写，该目录存放一些服务启动之后需要提取的数据。

/sys
* 这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中心出现的一个文件系统sysfs

/tmp
* 这个目录是用来存放一些临时文件的。

/dev
* 类似于windows的设备管理器，把所有的硬件用文件的形式存储。

/media
* linux系统会自动识别一些设备，例如U盘、光驱等等，当时别后，linux会把识别的设备挂载到这个目录下。

/mnt
* 系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将外部的存储挂载在/mnt/上，然后进入该目录就可以查看里面的内容了。

/opt
* 这是给主机额外安装软件所摆放的目录。如安装Oracle数据库就可放到该目录下。默认为空。

/usr/local
* 这是另一个给主机额外安装软件所摆放的安装目录。一般是通过编译源码方式安装的程序

/var
* 这个目录中存放着在不断扩充的东西，习惯将经常被修改的目录放在这个目录下。包括各种日志文件。

/selinux（security-enhanced linux）
* SELinux是一种安全子系统，他能控制程序只能访问特定文件。
## 远程登录linux系统
XShell5：远程登录到linux系统的软件

XFtp5：上传和下载文件软件

需要linux开启sshd服务监听22端口，关闭防火墙
## vi和vim
* 正常模式
* 插入模式
* 命令行模式
![](./复习/vim.png)
:wq 写入保存兵退出
:q  不做操作退出
:q! 强制退出不保存
![](./复习/vim快捷操作.png)
1)粘贴为p
## 关机重启注销
shutdown

    shutdown -h now  立即关机
    shutdown -h 1    一分钟之后关机
    shutdown -r now  立即重启
halt

    halt 直接使用，效果等价于关机
reboot

    reboot 重启系统
syn
    
    syn  把内存的数据同步到磁盘
logout

    logout 注销当前用户（在图形运行级别无效，在运行级别3下有效）
## 用户管理
### 用户组目录
![](./复习/linux用户组目录.png)
### 添加用户

    useradd 用户名
1)当创建用户成功后，会自动的创建和用户同名的家目录
2)也可以通过useradd -d 指定新目录 新的用户名，给新创建的用户指定家目录
### 指定或者修改密码

    passwd 用户名
### 删除用户

    userdel [-r] 用户名
1)userdel 用户名：删除用户，但保留家目录
2)userdel -r 用户名：删除用户以及用户家目录
### 查看切换用户
#### 切换用户

    id 用户名
uid：用户id
gid：组id
组：组名
#### 切换用户

    su - 用户名
#### 退回原用户

    exit
#### 查看当前用户

    whoami 
## 组管理
### 创建组

    groupadd 组名
### 删除组

    groupdel 组名

### 增加用户时直接加上组
    useradd -g 组名 用户名
### 修改用户的组
    usermod -g 组名 用户名
### 用户和组的相关文件
/etc/passwd 文件
用户（user）的配置文件，记录用户的各种信息
每行的含义：用户名：口令：用户标识号：组标识号：注释性描述：主目录：登录Shell

/etc/shadow 文件
口令的配置文件
每行的含义：登录名：加密口令：最后一次修改时间：最小时间间隔：最大时间间隔：警告时间：不活动时间：失效时间：标志

/etc/group 文件
组（group）的配置文件，记录Linux包含的组的信息
每行含义：组名：口令：组标识号：组内用户列表
## 实用指令
### linux运行级别
![](./复习/linux运行级别.png)

切换到指定运行级别的指令

    init [0123456]
### 帮助指令
#### man 获得帮助信息

    man [命令或配置文件]
#### help 指令

    help 命令
### 文件目录类指令
#### pwd 指令
显示当前工作目录的绝对路径

    pwd
#### ls 指令

    ls [选项][目录或是文件]
-a ：显示当前目录所有的文件和目录，包括隐藏的
-l ：以列表的方式显示信息
#### cd 指令
切换到指定目录

    cd [参数]
cd ~ 或者 cd 回到自己的家目录
cd .. 回到当前目录的上一级目录
#### mkdir 指令
用于创建目录（make directory）

    mkdir [选项] 要创建的目录
-p ：创建多级目录
#### rmdir 指令
删除空目录

    rmdir [选项] 要删除的空目录
rmdir删除的是空目录，如果目录下有内容时无法删除的。
提示：如果需要删除非空目录，需要使用 rm -rf 要删除的目录
#### touch 指令
创建空文件

    touch 文件名称
#### cp 指令[重要]
拷贝文件到指定目录
    
    cp [选项] source dest
-r 拷贝的文件夹 拷贝到对应位置的文件夹： 递归赋值整个文件夹
\cp :强行全部覆盖
#### rm 指令
移除文件或目录

    rm [选项] 要删除的文件或目录
-r : 递归删除整个文件夹
-f ：强制删除不提示
####mv 指令
移动文件与目录或重命名

    mv oldNameFile newNameFile(重命名)
    mv /temp/movefile /targetFolder(移动文件)
#### cat 指令
查看文件内容

    cat [选项] 要查看的文件
-n : 显示行号
cat 只能浏览文件，而不能修改文件，为了浏览方便，一般会带上管道命令 | more
#### more 指令
more指令是一个基于VI编辑器的文本过滤器，它以全屏幕的方式按页显示文本文件的内容。more指令中内置了若干快捷键。
![](./复习/more指令快捷键.png)
#### less 指令
less指令用来分屏查看文件内容，它的功能与more指令类似，但是比more指令更加强大，支持各种显示终端。less指令在显示文件内容时，并不是一次将整个文件加载之后才显示，而是根据显示需要加载内容，对于显示大型文件具有较高的效率。
![](./复习/less指令快捷方式.png)
#### >指令和>>指令
输出重定向和>>追加

    ls -l>文件 （列表的内容写入文件中（覆盖写））
    ls -al>>文件 （列表的内容追加到文件末尾）
    cat 文件1>文件2 （将文件1的内容覆盖到文件2）
    echo "内容">>文件
#### echo 指令
输出内容到控制台

    echo [选项] [输出内容]
    echo $PATH 输出环境变量
#### head 指令
显示文件的开头部分内容，默认情况下head指令显示文件的前10行内容

    head 文件 （查看文件头10行内容）
    head -n 5文件 （查看文件头5行内容，5可以是任意行数）
#### tail 指令
输出文件中尾部的内容，默认情况下tail指令显示文件的后10行内容。

    tail 文件 （查看文件后10行内容）
    tail -n 5文件 （查看文件后5行内容，5可以是任意行数）
    tail -f 文件 （实时追踪该文档的所有更新）
#### ln 指令
软链接也叫符号链接，类似于windows里的快捷方式，主要存放了链接其他文件的路径

    ln -s [原文件或目录][软链接名] （给原文件创建一个软链接）
当我们使用pwd指令查看目录时，仍然看到的是软链接所在目录
#### history 指令
查看已经执行过的历史命令，也可以执行历史指令

    history （查看已经执行过历史命令）
history 数字 查看前数字条指令
!数字  执行第数字条指令
### 时间日期类指令
#### date 指令
显示当前日期

    date （显示当前时间）
    date +%Y （显示当前年份）
    date +%m （显示当前月份）
    date +%d （显示当前是哪一天）
    date +"+%Y-%m-%d %H:%M:%S" （显示年月日时分秒）
date -s 设置系统时间
#### cal 指令
查看日历指令
    
    cal [选项] （不加选项，显示本月日历）
cal 2020 显示2020年日历
### 搜索查找类指令
#### find指令
find指令将从指定目录向下递归地遍历其各个子目录，将满足条件的文件或者目录显示在终端

    find [搜索范围] [选项]
选项说明
选项     |           功能
-|-
-name<查询方式>  |   按照指定的文件名查找模式查找文件
-user<用户名>     |  查找属于指定用户名所有文件
-size<文件大小>    | 按照指定的文件大小查找文件（+n 大于 -n小于 n等于）
Ctrl + c 退出查询 
#### locate 指令
locate指令可以快速定位文件路径。locate指令利用事先建立的系统中所有文件名称及路径的locate数据库实现快速定位给定的文件。locate指令无需遍历整个文件系统，查询速度较快。为了保证查询结果的准确度，管理员必须定期更新locate时刻。

    locate 搜索文件
由于locate指令基于数据库进行查询，所以第一次运行前，必须使用updatedb指令创建locate数据库。
#### grep指令和管道符号 |
grep过滤查找，管道符，“|”，表示将前一个命令的处理结果输出传递给后面的命令处理。

    grep [选项] 查找内容 源文件
常用选项
选项|                功能
-|-
-n |                 显示匹配行及行号
-i  |                忽略字母大小写
### 压缩和解压缩类指令
#### gzip/gunzip 指令
gzip用于压缩文件，gunzip用于解压的

    gzip 文件 （压缩文件，只能将文件压缩为*.gz文件）
    gunzip 文件 （解压缩文件命令）
原文件会消失
#### zip/unzip 指令
zip用于压缩文件，unzip用于解压的，这个在项目打包发布中很有用的。

    zip [选项] XXX.zip 将要压缩的内容 （压缩文件和目录的命令）
    unzip [选项] XXX.zip （解压缩文件）
zip常用选项
-r : 递归压缩，即压缩目录
unzip的常用选项
-d<目录> ：指定解压后文件的存放目录
#### tar 指令
tar指令是打包指令，最后打包后的文件是.tar.gz的文件

    tar [选项] XXX.tar.gz 打包的内容 （打包目录，压缩后的文件格式.tar.gz）
选项说明
| 选项 |                 功能 |
-|-|-
-c |                 产生.tar打包文件
-v  |                显示详细信息
-f   |               指定压缩后的文件名
-z    |              打包同时压缩
-x     |             解包.tar文件
-zcvf   |            打包压缩组合拳
-zxvf    |           解压组合拳
结尾 -C 目录 |        解压到指定目录
## 组管理和权限管理
在linux中的每个用户必须属于一个组，不能独立于组外。在Linux中每个文件有所有者、所在组、其他组的概念。
### 所有者

一般为文件的创建者，谁创建了该文件，就自然的成为该文件的所有者。

查看文件的所有者和所在组

    ls -ahl
修改文件所有者

    chown 用户名 文件名

### 所在组
查看文件的所在组

    ls -ahl
修改文件所在组

    chgrp 组名 文件名
### 其他组
除文件的所有者和所在组的用户外，系统的其他用户都是文件的其他用组。
### 改变用户所在组

    usermod -g 组名 用户名
    usermod -d 目录名 用户名 （改变该用户登录的初始目录）
### 权限管理
![](./复习/linux文件详细信息.png)
0 - 9位含义
0：文件的类型 （- 普通文件 d 目录 l 软链接 c 字符设备【键盘，鼠标】 b 块文件，硬盘）
1-3：所有者的权限
4-6：文件所在组的用户的权限
7-9：文件其他组的用户的权限
#### rwx权限详解
rwx作用到文件
* r代表可读（read）：可以读取，查看
* w代表可写（write）：可以修改，但是不代表可以删除该文件，删除一个文件的前提条件是对该文件所在的目录有写权限，才能删除该文件
* x代表可执行（execute）：可以被执行
rwx作用到目录
* r代表可读（read）：可以读取，ls查看目录内容
* w代表可写（write）：可以修改，目录内创建+删除+重命名目录
* x代表可执行（execute）：可以进入该目录
可用数字表示为：r=4，w=2，x=1 因此rwx=4+2+1=7 
### 修改权限
通过chmod指令，可以修改文件或者目录的权限。
#### 第一种方式：+、-、=变更权限
u：所有者 g：所有组 o：其他人 a：所有人（u、g、o的总和）

    chmod u=rwx,g=rx,o=x 文件目录名
    chmod o+w 文件目录名 （加上个权限）
    chmod a-x 文件目录名 （减去个权限）
#### 第二种方式：通过数字变更权限
r=4 w=2 x=1 rwx=4+2+1=7

    chmod u=rwx,g=rx,o=x 文件目录名
    chmod 751 文件目录名
### 修改文件所有者-chown

    chown newowner file （改变文件的所有者）
    chown newowner:newgroup file （改变用户的所有者和所有组）
-R 如果是目录 则使其下所有子文件或目录递归生效
## crond任务调度
### crontab 进行 定时任务的设置
任务调度：是指系统在某个时间执行的特定的命令或程序。
任务调度分类：
1. 系统工作：有些重要的工作必须周而复始地执行。如病毒扫描等
2. 个别用户工作：工作用户可能希望执行某些程序，比如对mysql数据库的备份。


```linux
crontab [选项]
```
常用选项
 选项| 功能 
-|-
-e |             编辑crontab定时任务
-l |             查询crontab任务
-r  |            删除当前用户所有的crontab任务
service crond restart | 重启任务调度 
参数细节说明
* 五个占位符的说明

项目  |       含义    |               范围
-|-|-
第一个“*” |   一小时当中的第几分钟 |    0-59
第二个“*”  |  一天当中的第几小时    |   0-23
第三个“*”   | 一个月当中的第几天     |  1-31
第四个“*”   | 一年当中的第几月       |  1-12
第五个“*”   | 一周当中的星期几       |  0-7（0和7都代表星期日）
* 特殊符号的说明

特殊符号         |    含义
-|-
\* |                  代表任何时间。比如第一个“*”就代表一小时中每分钟都执行一次的意思。
, |                   代表不连续的时间。比如“0 8,12,16 * * *”命令，就代表在每天的8点0分，12点0分，16点0分都执行一次命令
\- |                  代表连续的时间范围。比如“0 5 * * 1-6”命令，代表在周一到周六的凌晨5点0分执行命令
*/n | 代表每隔多久执行一次。比如“*/10 * * * *”命令，代表每隔10分钟就执行一遍命令

脚本案例
![](./复习/linuxcrontab脚本案例.png)
## 磁盘分区
### 分区基础知识
![](./复习/分区基础知识.png)
### linux分区
![](./复习/linux硬盘说明.png)
![](./复习/linux分区原理示意图.png)
![](./复习/linux分区.png)
### linux增加一块硬盘
![](./复习/linux增加一块硬盘.png)
![](./复习/linux增加一块硬盘2.png)
![](./复习/linux增加一块硬盘3.png)
![](./复习/linux增加一块硬盘4.png)
### 磁盘情况查询
查询系统整体磁盘使用情况
 
    df -h 
### 查询指定目录的磁盘占用情况

    du -h /目录
查询指定目录的磁盘占用情况，默认为当前目录
选项 | 功能
-|-
-s | 指定目录占用大小汇总
-h | 带计量单位
-a | 含文件
--max-depth=1 | 子目录深度
-c | 列出明细的同时，增加汇总值
工作实用指令
![](./复习/linux磁盘情况-工作实用指令.png)
![](./复习/linux磁盘情况-工作实用指令2.png)
## Linux网络配置
### Linux网络配置原理图
![](./复习/Linux网络配置原理图.png)
### ping 指令

    ping 目的主机（测试当前服务器是否可以连接目的主机）
### Linux网络环境配置
自动获取

![](./复习/Linux自动获取ip.png)
固定ip

![](./复习/Linux固定ip.png)
![](./复习/Linux固定ip修改方式.png)
修改后，一定要重启服务
1) service network restart
2) reboot
## Linux进程管理
### ps 指令
用来查看目前系统中，有哪些正在执行，以及它们执行的情况。可以不加任何参数。
ps显示的信息选项：
字段|说明
-|-
PID | 进程识别号
TTY | 终端机号
TIME | 此进程所消CPU时间
CMD | 正在执行的命令或进程名

    ps -a：显示当前终端的所有进程信息
    ps -u：以用户的格式显示进程信息
    ps -x：显示后台进程运行的参数
进程详细信息
![](./复习/Linux进程详细信息.png)
![](./复习/Linux进程详细信息2.png)
![](./复习/Linux进程详细信息3.png)
### pstree 指令

    pstree [选项] （可以更加直观的来看进程信息）
-p ：显示进程的PID
-u ：显示进程的所属用户
### kill和killall 指令
若某个进程执行一半需要停止时，或是已消了很大的系统资源时，此时可以考虑停止该进程。使用kill命令来完成此项任务。

    kill [选项] 进程号 （通过进程号杀死进程）
    killall 进程名称 （通过进程名称杀死进程，也支持通配符，这在系统因负载过大而变得很慢时很有用）
-9 ：表示强迫进程立即停止
### 服务（service）管理
服务（service）本质就是进程，但是是运行在后台的，通常都会监听某个端口，等待其他程序的请求，比如（mysql，sshd，防火墙等），因此我们又称为守护进程，是Linux中非常重要的知识点。
原理图：
![](./复习/Linux服务原理.png)

    service 服务名 [start|stop|restart|reload|status]
    在CentOS7.0后不再使用service，而是systemctl
dos下

    telnet ip 端口号 （可以测试是否可以连接）
查看服务名：
方式1：使用setup->系统服务 就可以看到
方式2：/etc/init.d/服务名称
Linux服务的运行级别
![](./复习/Linux服务的运行级别.png)
#### chkconfig 指令
可以给各个运行级别设置自启动/关闭

    chkconfig --list|grep xxx （查看服务）
    chkconfig 服务名 --list
    chkconfig --level 5 服务名 on/off
### top 指令（动态监控进程）
top与ps命令很相似。他们都用来显示正在执行的进程。top与ps最大的不同之处，在于top在执行一段时间可以更新正在运行的进程。

    top [选项]
选项|功能
-|-
-d 秒数 | 指定top命令每隔几秒更新，默认是3秒在top命令的交互模式当中可以执行的命令
-i | 使top不显示任何闲置或者僵死进程
-p | 通过指定监控进程id来仅仅监控某个进程的状态
交互操作说明：
操作|功能
-|-
P|以CPU使用率排序，默认就是此项
M|以内存的使用率排序
N|以PID排序
q|退出top
top详细信息
![](./复习/Linuxtop详细信息.png)
### netstat 指令（监控网络状态）
查看系统网络情况netstat

    netstat [选项]
选项|功能
-|-
-an|按一定顺序排列输出
-p|显示哪个进程在调用
检测主机连接命令ping:
是一种网络检测检测工具，他主要是用来检测远程主机是否正常，或是两部主机间的介质是否为断、网线是否脱落或网卡故障。
    ping 对方ip地址
## rpm包的管理
一种用于互联网下载包的打包及安装工具，它包含在某些Linux分发版中。他生成具有.RPM扩展名的文件。RPM是RedHat Package Manager（RedHat软件包管理工具）的缩写，类似windows的setup.exe，这一文件格式名称虽然打上了RedHat的标志，但理念是通用的。
rpm包的简单查询指令

    rpm -qa | grep xx
    rpm -qi 软件名 
选项|功能
-|-
-q |查询
-a |所有
-i |详细信息
-l |查询rpm包的文件安装的位置
-f |查询文件所属的软件包
-e |删除
--nodeps |强制（配合删除）
-i |install 安装
-v |verbose 提示
-h |hash 进度条
## yum 指令
yum是一个Shell前端软件包管理器。基于RPM包管理，能够从指定的服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包。

    yum list | grep xx （查询yum服务器是否有需要安装的软件）
    yum install xxx （安装指定的yum包）
## jdk安装
* 下载linux版本的jdk  .tar.gz
* 解压  tar -zxvf
* 配置环境变量 vim /etc/profile
    JAVA_HOME=
    PATH=:$PATH
    export JAVA_HOME PATH
## Tomcat安装
* 下载linux版本的 .tar.gz
* 解压 tar -zxvf
* 开放端口8080 vim/etc/sysconfig/iptables
    service iptables status (查看防火墙状态)
## MySql

    chkconfig mysql on //开机自动启动
    chkconfig --list | grep mysql //查看linux不同级别下的mysql自动启动情况
    ntsysv //查看自动启动的服务